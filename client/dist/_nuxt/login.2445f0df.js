import{b as T,N as I,L as d,v as u,_ as U,a as P}from"./email.production.7f7ea27f.js";import{O as B,q as E,B as L,s as N,o as f,c as V,a as m,b as w,x as s,w as M,d as O,y as C,I as F,P as D,e as W,M as z,r as v,u as j,A as Q,Q as $,C as h,t as y,D as k,v as g,z as H,_ as J}from"./entry.1f0d1014.js";const G=t=>{const o=B();o.cleanAlerts(),t.response._data.forEach(c=>{o.addAlert("error",c.message)})},K=T((t,o)=>{I(o),d("email","Email is required",()=>{u(t.email).isNotEmpty()}),d("email","not an email",()=>{u(t.email).isEmail()}),d("password","Password is required",()=>{u(t.password).isNotEmpty()}),d("password","6 <= characters <= 25",()=>{u(t.password.trim()).longerThanOrEquals(6).shorterThanOrEquals(25)})}),A=K,R=m("h1",{class:"font-bold text-4xl mb-2 text-btn w-fit text-center"}," Welcome Back! ",-1),X={class:"flex flex-col items-center gap-2 mt-1"},Y=E({__name:"Login",setup(t){const{$api:o}=z(),c=L(),i=N({email:"",password:""});let e=N(A.get());const p=n=>{e=A({email:i.email,password:i.password},n)},x=async function(){try{const n=await o("/api/v1/login",{method:"POST",body:{email:i.email,password:i.password}});c.login(n.id,n.name,n.email),D("/rooms")}catch(n){G(n)}};return(n,a)=>{const r=U,_=P,b=W;return f(),V(F,null,[R,m("form",{onSubmit:C(x,["prevent"]),class:"flex flex-col gap-10 items-center"},[w(r,{modelValue:s(i).email,"onUpdate:modelValue":[a[0]||(a[0]=l=>s(i).email=l),a[1]||(a[1]=l=>p("email"))],label:"Email Address",errors:s(e).getErrors("email"),class:"w-72 max-w-[90%]"},null,8,["modelValue","errors"]),w(r,{modelValue:s(i).password,"onUpdate:modelValue":[a[2]||(a[2]=l=>s(i).password=l),a[3]||(a[3]=l=>p("password"))],label:"Password",errors:s(e).getErrors("password"),class:"w-72 max-w-[90%]"},null,8,["modelValue","errors"]),m("div",X,[w(_,{isValid:!s(e).isValid(),text:"SIGN IN",class:"w-72 h-11 text-lg max-w-[85%] bg-btn"},null,8,["isValid"]),w(b,{class:"cursor-pointer text-btn hover:font-semibold"},{default:M(()=>[O("Forgot your password?")]),_:1})])],32)],64)}}}),Z=T((t,o)=>{I(o),d("email","Email is required",()=>{u(t.email).isNotEmpty()}),d("email","not an email",()=>{u(t.email).isEmail()}),d("password","Password is required",()=>{u(t.password).isNotEmpty()}),d("password","6 <= characters <= 25",()=>{u(t.password.trim()).longerThanOrEquals(6).shorterThanOrEquals(25)}),d("fullName","Full name is required",()=>{u(t.fullName.trim()).isNotEmpty()}),d("fullName","space is required",()=>{u(t.fullName.trim()).matches(/\s/)}),d("fullName","must be at least 4 chars",()=>{u(t.fullName.trim()).longerThanOrEquals(4)})}),q=Z,ee=m("h1",{class:"font-bold text-4xl mb-2 text-btn w-fit text-center"}," Create Account ",-1),se={class:"flex flex-col items-center gap-2 mt-1"},te=E({__name:"Signup",setup(t){const{$api:o}=z(),c=B(),i=L(),e=N({fullName:"",email:"",password:""});let p=N(q.get());const x=a=>{p=q({email:e.email,password:e.password,fullName:e.fullName},a)},n=async function(){try{const a=await o("/api/v1/signup",{method:"POST",body:{name:e.fullName,email:e.email,password:e.password}});i.login(a.id,a.name,a.email),c.cleanAlerts(),c.addAlert("success",`Welcome ${e.fullName} !`),D("/rooms")}catch(a){G(a)}};return(a,r)=>{const _=U,b=P;return f(),V(F,null,[ee,m("form",{class:"flex flex-col gap-10 items-center",onSubmit:C(n,["prevent"])},[w(_,{label:"Full Name",modelValue:s(e).fullName,"onUpdate:modelValue":[r[0]||(r[0]=l=>s(e).fullName=l),r[1]||(r[1]=l=>x("fullName"))],errors:s(p).getErrors("fullName"),class:"w-72 max-w-[90%]"},null,8,["modelValue","errors"]),w(_,{modelValue:s(e).email,"onUpdate:modelValue":[r[2]||(r[2]=l=>s(e).email=l),r[3]||(r[3]=l=>x("email"))],label:"Email Address",errors:s(p).getErrors("email"),class:"w-72 max-w-[90%]"},null,8,["modelValue","errors"]),w(_,{modelValue:s(e).password,"onUpdate:modelValue":[r[4]||(r[4]=l=>s(e).password=l),r[5]||(r[5]=l=>x("password"))],label:"Password",errors:s(p).getErrors("password"),class:"w-72 max-w-[90%]"},null,8,["modelValue","errors"]),m("div",se,[w(b,{isValid:!s(p).isValid(),text:"SIGN UP",class:"w-72 h-11 text-lg max-w-[85%] bg-btn"},null,8,["isValid"])])],32)],64)}}});function oe(){const t=v(0);function o(){t.value=window.innerWidth}return j(()=>{window.addEventListener("resize",o),o()}),Q(()=>{window.addEventListener("resize",o),o()}),{width:t}}const ae={class:"w-full h-[90%] flex items-center justify-center relative top-32 md:top-60"},re={class:"w-[60rem] h-[32rem] border-borderColor sm:border-[1px] border-b-[1px] rounded-2xl max-w-[90%] flex flex-col sm:flex-row gap-6 sm:gap-0 bg-third"},le={class:"text-lg sm:text-5xl font-semibold text-center mt-2 sm:mt-0"},ne={class:"text-sm sm:text-xl text-center"},ie=E({__name:"login",setup(t){const o=v(),c=v(),i=v(),e=v(!0),{width:p}=oe(),x=$(()=>p.value<=740),n=$(()=>e.value?{header:"Don't have an account ?",sub:"Start listening in one click",btn:"SIGN UP"}:{header:"Already have an account ?",sub:"Sign in with your email & password",btn:"SIGN IN"}),a=()=>{x.value||(e.value?(g(o.value,{x:[0,"100%"]},{duration:1.2}),g(c.value,{x:[0,"-100%"]},{duration:1.2})):(g(o.value,{x:["100%",0]},{duration:1.2}),g(c.value,{x:["-100%",0]},{duration:1.2}))),g([i.value,o.value],{opacity:[1,0,0,1]},{duration:1.2}),setTimeout(()=>{e.value=!e.value},455)};return(r,_)=>{const b=Y,l=te,S=H;return f(),V("main",ae,[m("div",re,[m("div",{ref_key:"formSide",ref:o,class:"w-[100%] sm:w-[50%] min-h-full flex flex-col pt-16 items-center gap-10 bg-third rounded-2xl"},[s(e)?(f(),h(b,{key:0})):(f(),h(l,{key:1}))],512),m("div",{ref_key:"headerSide",ref:c,class:"sm:radial-grad w-[100%] sm:w-[50%] rounded-2xl flex flex-col items-center justify-center sm:pt-40 sm:justify-normal sm:text-white ml-auto p-1 text-txt"},[m("div",{ref_key:"headers",ref:i,class:"flex flex-col items-center sm:gap-3"},[m("h1",le,y(s(n).header),1),m("h2",ne,[O(y(s(n).sub)+" ",1),s(e)?(f(),h(S,{key:0,name:"solar:headphones-round-sound-bold"})):k("",!0)]),m("button",{onClick:a,class:"btn-primary border-white sm:border-[2px] mt-3 sm:bg-transparent hover:bg-transparent hover:border-zinc-800"},y(s(n).btn),1),s(e)?k("",!0):(f(),h(S,{key:0,name:"game-icons:sound-waves",class:"sm:w-20 w-10 h-auto"}))],512)],512)])])}}});const ue=J(ie,[["__scopeId","data-v-d10e9c44"]]);export{ue as default};
